<template>
  <div class="index">
    <div class="top">
      <div class="status">· 住院中</div>
      <div class="balance">
        <i class="icon-balance"></i>余额：
        <span>￥2000.00</span>
      </div>
      <div class="time">
        <div class="clock">08:23:50</div>
        <div class="date">2019-06-02</div>
      </div>
      <img class="back" src="./img/back.png" @click="back"/>
      <img class="home" src="./img/home.png" @click="home"/>
    </div>
    <div class="main">
      <router-view class="view"></router-view>
      <div class="menu">
        <div class="mask" v-show="isShowMenu" @click="writeMessageFun($event)">
          <div class="content" ref="msk">
            <div class="title">广东省中西结合医院——骨外科</div>
            <div class="mian">
              <div class="baseInfo">
                <div class="item">
                  <label>病患</label>
                  <span class="value">： 杨洋</span>
                </div>
                <div class="item">
                  <label>性别</label>
                  <span class="value">： 男</span>
                </div>
                <div class="item">
                  <label>入院日期</label>
                  <span class="value">： 2019.02.23</span>
                </div>
                <div class="item">
                  <label>年龄</label>
                  <span class="value">： 21</span>
                </div>
                <div class="item">
                  <label>护理等级</label>
                  <span class="value">： 二级</span>
                </div>
                <div class="item">
                  <label>性质</label>
                  <span class="value">： 医保</span>
                </div>
                <div class="item">
                  <label>诊断</label>
                  <span class="value">： 小腿骨折</span>
                </div>
                <div class="item">
                  <label>主治医师</label>
                  <span class="value">： 陈教授</span>
                </div>
                <div class="item">
                  <label>科室</label>
                  <span class="value">： 骨外科</span>
                </div>
              </div>
              <ul class="nav">
                <router-link
                  :to="item.path"
                  v-for="(item, index) in nav"
                  :key="index"
                  tag="li"
                  class="navBtn"
                  @click.native="isShowMenu = false"
                >
                  <i :class="item.icon"></i>
                  <p>{{item.text}}</p>
                </router-link>
              </ul>
            </div>
          </div>
        </div>
        <img class="menuBtn" @click="triggerMenu" src="./img/menu.png" alt />
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'Index',
  data () {
    return {
      isShowMenu: false,
      nav: [
        {
          path: '/index/caseInquiry',
          icon: 'icon-record',
          text: '病例查询'
        },
        {
          path: '/index/medicalTechInquiry',
          icon: 'icon-medical-tech',
          text: '医技查询'
        },
        {
          path: '/index/voiceRecord',
          icon: 'icon-sound',
          text: '录音查询'
        },
        {
          path: '/index/feeInquiry',
          icon: 'icon-fee',
          text: '费用查询'
        },
        {
          path: '/index/docOrderInquiry',
          icon: 'icon-advice',
          text: '医嘱查询'
        },
        {
          path: '/index/signsInquiry',
          icon: 'icon-sign',
          text: '体征查询'
        },
        {
          path: '/index/patientSide',
          icon: 'icon-patient',
          text: '患者端'
        },
        {
          path: '/index/nurseSide',
          icon: 'icon-nurse',
          text: '护士端'
        },
        {
          path: '/index/careWorkerSide',
          icon: 'icon-worker',
          text: '护工端'
        }
      ]
    }
  },
  components: {
  },
  methods: {
    triggerMenu () {
      this.isShowMenu = !this.isShowMenu
    },
    writeMessageFun (ev) {
      if (!this.$refs.msk.contains(ev.target)) {
        this.isShowMenu = false
      }
    },
    back () {
      this.$router.go(-1)
    },
    home () {
      this.$router.push('/index')
    }
  }
}
</script>

<style lang="sass" scoped>
@import '~assets/sass/mixin'
@import '~assets/sass/variable'
.index
  width: 100%
  height: 100vh
  position: relative
  background: url('~assets/background.png')
  .top
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 120px
    z-index: 1
    dispaly: flex
    justify-content: space-between
    align-items: center
    &:before
      content: ''
      position: absolute
      top: 0
      left: 0
      right: 0
      bottom: 0
      background-color: rgba(255,255,255,0.3)
      filter: blur(1px)
      z-index: -1
    .status
      @include font(24px, 800, $color-word-blue)
      margin: 0 70px
      float: left
      height: 120px
      line-height: 120px
    .balance
      float: left
      height: 120px
      line-height: 120px
      @include font(24px, 800, $color-word-black)
      .icon-balance
        @include font(24px, 800, $color-word-black)
        margin-right: 8px
      span
        @include font(24px, 800, $color-money-red)
    .time
      float: right
      width: 210px
      height: 120px
      @include font(24px, 400, $color-white)
      display: flex
      flex-direction: column
      justify-content: center
      align-items: center
      line-height: 40px
    .back
      float: right
      width: 120px
      height: 120px
      cursor: pointer
    .home
      width: 120px
      height: 120px
      margin-right: 20px
      float: right
      cursor: pointer
  .main
    position: absolute
    top: 120px
    left: 0
    width: 100%
    .menu
      .mask
        position: fixed
        top: 0
        bottom: 0
        left: 0
        width: 100%
        background-color: rgba(0,0,0,.2)
        z-index: 101
        .content
          position: absolute
          top: 170px
          right: 103px
          float: left
          width: 1350px
          height: 848px
          border-radius: 15px
          overflow: hidden
          z-index: 1
          &:before
            content: ''
            position: absolute
            top: 0
            left: 0
            right: 0
            bottom: 0
            -webkit-filter: blur(10px)
            -moz-filter: blur(10px)
            -ms-filter: blur(10px)
            -o-filter: blur(10px)
            filter: blur(10px)
            z-index: -3
            background-image: url('~assets/background.png')
          .title
            line-height: 88px
            padding-left: 50px
            background-color: rgba(255,255,255,0.55)
            border-radius: 15px 15px 0 0
            @include font(32px, 500, $color-word-black)
          .mian
            padding: 44px 40px
            .baseInfo
              background-color: rgba(255,255,255,0.55)
              border: 1px solid $color-border-blue
              border-bottom: none
              display: flex
              justify-content: space-between
              align-items: center
              flex-wrap: wrap
              .item
                width: 422.5px
                height: 80px
                border-bottom: 1px solid $color-border-blue
                label
                  display: inline-block
                  width: 120px
                  padding-left: 40px
                  line-height: 80px
                  @include font(28px, 500, $color-word-black)
                .value
                  line-height: 80px
                  @include font(28px, 500, $color-word-blue)
            .nav
              float: left
              padding: 0
              .navBtn
                margin: 12px 19px
                float: left
                width: 147px
                height: 147px
                display: flex
                flex-direction: column
                justify-content: center
                align-items: center
                background-color: rgba(255,255,255,0.6)
                border-radius: 10px
                @include font(20px, 800, $color-word-blue)
                &:nth-child(7n+1)
                  margin-left: 0
                &:nth-child(7n)
                  margin-right: 0
                p
                  margin: 0
                i
                  @include font(40px, 800, $color-word-blue)
                  margin-bottom: 10px
      .menuBtn
        width: 86px
        height: 86px
        border-radius: 50%
        cursor: pointer
        position: fixed
        top: 975px
        right: 60px
        z-index: 101
</style>
